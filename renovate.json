{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "rebaseWhen": "behind-base-branch",
  "tekton": {
    "schedule": ["* 0 * * *"],
    "managerFilePatterns": ["/\\.yaml$/", "/\\.yml$/"],
    "packageRules": [
      {
        "description": "Enable utils image updates for tekton tasks",
        "schedule": ["* 5-9 * * *"],
        "matchDepTypes": ["tekton-step-image"],
        "matchPackageNames": [
          "quay.io/konflux-ci/release-service-utils",
          "quay.io/conforma/cli",
          "quay.io/konflux-ci/appstudio-utils",
          "quay.io/konflux-ci/charon",
          "amazon/aws-cli"
        ],
        "matchFileNames": [
          "tasks/**"
        ]
      },
      {
        "description": "Enable utils image updates for tekton pipelines",
        "schedule": ["* 5-9 * * *"],
        "matchDepTypes": ["tekton-step-image"],
        "matchPackageNames": [
          "quay.io/konflux-ci/release-service-utils"
        ]
      }
    ]
  },
  "kubernetes": {
    "managerFilePatterns": ["stepactions/**/*.yaml"],
    "packageRules": [
      {
        "description": "Enable build-trusted-artifacts image updates in StepActions",
        "schedule": ["* 5-9 * * *"],
        "matchDatasources": ["docker"],
        "matchPackageNames": ["quay.io/redhat-appstudio/build-trusted-artifacts"]
      }
    ]
  }
}
